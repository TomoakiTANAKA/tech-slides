---
marp: true
theme: default
header: "**インプルーブ勉強会** __コードレビューについて__"
footer: "by [TomoakiTANAKA](tanaka1987＠gmail.com)"
paginate: true
---

<!-- コメント：画像を中央に配置する centerコマンドを有効に -->
<style>
img[alt~="center"] {
  display: block;
  margin: 0 auto;
}
</style>

# コードレビューについて

---

# 自己紹介

---

# 田中智章

```
経営・ソフトウェア開発やってます

主戦場のWebエンジニアしつつ、Flutterを使ったアプリ開発も。
ウィスキーとLEGOが好きです。
・Ruby + RoR / PHP + WordPress
・エンジニアマネージャ / スクラムマスター
・その他（SEO / React / NoCode / Bot）
```

---

# 会社紹介

---

# 株式会社エバーセンス / 株式会社コジカジ

## 会社概要

- 家族を幸せにすることで、笑顔溢れる社会をつくる。

## おもなプロダクト

- 妊婦さん向けの「ninaru」 / 子育て中のお母さん向けの「ninaru baby」、など

---

# 本日の勉強会の目的

---

# 勉強会のゴール

- なぜコードレビューするのか？
- コードレビューをより良いものにするには？

---

# 目次

---

# 目次

1. レビューの目的
2. レビューの心得（される側）
3. レビューの心得（する側）
4. コードレビューの事例
5. まとめ

---

# レビューの目的

---

# レビューの目的

## コードの品質を高める

- 仕様を満たしているか
- コードは拡張しやすいか？
- セキュリティ / パフォーマンス / トランザクション、etc

## メンバーの技術力の底上げ

- 良いコードの認識を揃える
- フィードバックを通じた育成

---

# Q. コードレビューを実りあるものにするには？

# A. レビューされる側 / する側 両方に<br>きちんとした心構えや準備が必要

---

# この勉強会では、「レビューされる側」「する側」両方の視点で、注意することをお話しさせていただきます

---

# レビューの心得（される側）

---

# レビューの心得（される側）

1. 何はともあれセルフレビュー
2. 何をレビューしてもらいたいのか明確にする
3. フィードバックは素直に受け入れる
4. フィードバックは人格否定ではないと理解する
5. 対応しないフィードバックがあれば、理由を述べる

---

# 1. 何はともあれセルフレビュー

## Bad

エンジニア：

- 「よし、コードつくれた。一通り動いたのでレビューに出そう」

レビュワー：

- 「デバックコメントも残ってるなぁ。そもそもコメントも残ってるし...このコードをレビュー以前の問題では？」

---

# 1. 何はともあれセルフレビュー

## Good

エンジニア

- 「よし、コードつくれた。まずは自分の PR を確認しよう」
- 「あ、デバックコメント残っているな。消しておこう」
- 「一通りセルフチェックはしたので、レビューに出そう」

レビュワー：

- （一通り見て）「特にパットみ変なところはないな。詳細見よう」

---

※以下、テーマに沿って「Bad / Good」を説明します（繰り返し）

---

# レビューの心得（する側）

1. info / want / must などで指摘のレベルを明確に
2. どんな観点でレビューしているか明確にする
3. 論理的にフィードバックする
4. 人格否定はしない
5. 自分のことを棚にあげて、コードに向き合う

---

# 1. info / want / must などで指摘のレベルを明確に

## Bad

```ruby
def get_user_name
  return 'tanaka'
end
```

```
rubyでは「get」をつけないので、外したほうがいいです
```

---

# 1. info / want / must などで指摘のレベルを明確に

## Good

```ruby
def get_user_name
  return 'tanaka'
end
```

```
[must]
rubyでは「get」をつけないので、外したほうがいいです
```

---

※以下、テーマに沿って「Bad / Good」を説明します（繰り返し）

---

# コードレビュー事例

実際に実施している事例を紹介します

- **セルフレビュ―**
  - かんたんでもいいので、テストケースを作成。一通り流す。
- **レビュー負担低減**
  - リファクタする際に専用の PR を作成する
- **デザイン系**
  - css や xib ファイルのレビューは困難なので仮組みですすめ、最終デザイナチェック
- **その他**
  - コードスタイルはコード書く以前に決めておく
  - 設計（アーキテクチャ、DB、ディレクトリ構成など）も事前に

---

# テストケースの例

- かんたんにテストケースを作成（あくまで自分用）。
- コードチェック後、順番に実施。NG でコードを修正したら、1 からやり直す

![width:850px](assets/images/tips/test_cases.png)

---

# ●● の例

いくつか実例を写真つきで紹介

---

# まとめ

---

# ※ 最後にまとめをいれます ※

---

# 質疑応答

---

# おわり
